import{_ as n,c as a,o as s,a as e}from"./app.60263e9e.js";const _='{"title":"GitLab \u90E8\u7F72","description":"","frontmatter":{"sidebarDepth":2},"headers":[{"level":2,"title":"deploy \u9636\u6BB5\u603B\u662F\u4F7F\u7528\u7684\u65E7\u955C\u50CF","slug":"deploy-\u9636\u6BB5\u603B\u662F\u4F7F\u7528\u7684\u65E7\u955C\u50CF"},{"level":2,"title":"values.container.command \u672A\u6267\u884C","slug":"values-container-command-\u672A\u6267\u884C"}],"relativePath":"ci_cd/gitlab.md"}',t={},o=e(`<h1 id="gitlab-\u90E8\u7F72" tabindex="-1">GitLab \u90E8\u7F72 <a class="header-anchor" href="#gitlab-\u90E8\u7F72" aria-hidden="true">#</a></h1><h2 id="deploy-\u9636\u6BB5\u603B\u662F\u4F7F\u7528\u7684\u65E7\u955C\u50CF" tabindex="-1">deploy \u9636\u6BB5\u603B\u662F\u4F7F\u7528\u7684\u65E7\u955C\u50CF <a class="header-anchor" href="#deploy-\u9636\u6BB5\u603B\u662F\u4F7F\u7528\u7684\u65E7\u955C\u50CF" aria-hidden="true">#</a></h2><p>\u68C0\u67E5<code>/helm/\${project_name}/values-*.yaml</code>\u6587\u4EF6\uFF0C<code>nodeSelector.appenv</code>\u4E3A<code>test</code>\u65F6\uFF0C\u4E0D\u8981\u914D\u7F6E<code>nodeSelector.nodetype</code>\u3002</p><div class="language-yaml"><pre><code><span class="token key atrule">nodeSelector</span><span class="token punctuation">:</span>
  <span class="token key atrule">appenv</span><span class="token punctuation">:</span> test

<span class="token comment"># or</span>

<span class="token key atrule">nodeSelector</span><span class="token punctuation">:</span>
  <span class="token key atrule">appenv</span><span class="token punctuation">:</span> production
  <span class="token key atrule">nodetype</span><span class="token punctuation">:</span> front
</code></pre></div><h2 id="values-container-command-\u672A\u6267\u884C" tabindex="-1">values.container.command \u672A\u6267\u884C <a class="header-anchor" href="#values-container-command-\u672A\u6267\u884C" aria-hidden="true">#</a></h2><p>\u68C0\u67E5<code>/helm/\${project_name}/templates/deployment.yaml</code>\u6587\u4EF6\uFF1A</p><div class="language-yaml"><pre><code><span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">template</span><span class="token punctuation">:</span>
    <span class="token key atrule">spec</span><span class="token punctuation">:</span>
      <span class="token key atrule">containers</span><span class="token punctuation">:</span>
        <span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token punctuation">-</span> if .Values.container.command <span class="token punctuation">}</span><span class="token punctuation">}</span>
        <span class="token key atrule">command</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;bash&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;-c&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">{</span> .Values.container.command <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token punctuation">-</span> end <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre></div>`,7),p=[o];function c(l,u,i,d,r,k){return s(),a("div",null,p)}var h=n(t,[["render",c]]);export{_ as __pageData,h as default};
